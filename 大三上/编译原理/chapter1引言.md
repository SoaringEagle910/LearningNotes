# 第一章——引言


## 1.1 程序设计语言
## 1.2 程序设计语言的翻译
## 1.3 编译程序的总体结构
1. 词法分析器：(Lexical Analyzer 又称为扫描器Scanner)
   - 词法分析器从左到右扫描组成源程序的字符串，并将其转换成单词(记号—token)串；
   - 同时功能：查词法错误，进行标识符登记——符号表管理。
   - 输入输出：
     - 输入：**字符串**
     - 输出：(种别码，属性值)——**序对**(其中属性值是token的机内表示)
2. 语法分析器：(Syntax Analyzer 又称为解析器Parser)
   - Parser实现*组词成句*，将词组成各类语法成分：表达式、因子、项，语句，子程序…
   - 同时功能：构造分析树，指出语法错误，指导翻译
   - 输入输出：
     - 输入：token序列
     - 输出：语法成分
3. 语义分析：(semantic analysis)一般和语法分析同时进行，称为语法制导翻译(syntax-directed translation)
    - 功能：分析由语法分析器识别出来的语法成分的语义
      - 获取标识符的属性：类型、作用域等
      - 语义检查：运算的合法性、取值范围等
      - 子程序的静态绑定：代码的相对地址
      - 变量的静态绑定：数据的相对地址
4. 中间代码生成
    - 中间代码的特点
      - 简单规范
      - 与机器无关
      - 易于优化与转换
    - 波兰表达式
5. 代码优化
    - 代码优化(optimization)是指对中间代码进行优化处理，使程序运行能够尽量节省存储空间，更有效地利用机器资源，使得程序的运行速度更快，效率更高。当然这种优化变换必须是等价的。 
    - **局部优化**
      - 常量合并：常数运算在编译期间完成，如8+9*4
      - 公共子表达式的提取：在基本块内进行的
    - 循环优化
    - ...
6. 目标代码生成
    - 将中间代码转换成目标机上的机器指令代码或汇编代码
      - 确定源语言的各种语法成分的目标代码结构（机器指令组/汇编语句组）
      - 制定从中间代码到目标代码的翻译策略或算法
    - 目标代码的形式
      - 目标代码的目标机器具有绝对地址的机器指令
      - 汇编语言形式的目标程序
      - 模块结构的机器指令（需要链接程序）
7. 表格管理
8. 错误处理
- 模块分类：
  - 分析：词法分析、语法分析、语义分析
  - 综合：中间代码生成、代码优化、目标代码生成
  - 辅助：符号表管理、出错处理
  - 8项功能对应8个模块


## 1.4 编译程序的组织
- 根据系统资源的状况、运行目标的要求……等，可以将一个编译程序设计成多遍（Pass）扫描的形式，在每一遍扫描中，完成不同的任务。
- 编译程序的设计目标：
  - 规模小、速度快、诊断能力强、可靠性高、可移植性好、可扩充性好
  - 目标程序也要规模小、执行速度快
- 编译系统规模较大，因此可移植性很重要。——为了提高可移植性，将编译程序划分为前端和后端


## 1.5 编译程序的生成
- 问题：如何直接在一个机器上实现C语言编译器？
- 解决：
  - 用汇编语言实现一个C子集的编译程序(P0—人)
  - 用汇编程序处理该程序,得到(P2:可直接运行)
  - 用C子集编制C语言的编译程序(P3—人)
  - 用P2编译P3，得到P4

## 1.6 本章小结




